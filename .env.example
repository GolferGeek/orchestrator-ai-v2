# =============================================================================
# ORCHESTRATOR AI - ENVIRONMENT CONFIGURATION TEMPLATE
# =============================================================================
# This is a template file with placeholder values
# Copy this to .env and replace placeholders with your actual values
# Last updated: Phase 0 - Port Configuration
# =============================================================================

# =============================================================================
# ENVIRONMENT
# =============================================================================
NODE_ENV=development

# =============================================================================
# PORT CONFIGURATION
# =============================================================================
# IMPORTANT: All ports must be explicitly configured (no defaults in code)
# Environment port scheme:
#   Development:  6xxx (API: 6100, Web: 6101, LangGraph: 6200, Observability: 6300)
#   Staging:      8xxx (API: 8100, Web: 8101, LangGraph: 8200, Observability: 8300)
#   Production:   9xxx (API: 9100, Web: 9101, LangGraph: 9200, Observability: 9300)

API_PORT=6100
WEB_PORT=6101
VITE_WEB_PORT=6101
LANGGRAPH_PORT=6200
SERVER_PORT=6300

# =============================================================================
# SUPABASE LOCAL CONFIGURATION (Required)
# =============================================================================
# Local Supabase instance (started with `supabase start`)
# These are the default local Supabase demo keys
SUPABASE_URL=http://127.0.0.1:6010
SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImV4cCI6MTk4MzgxMjk5Nn0.EGIM96RAZx35lJzdJsyH-qQwv8Hdp7fsn3W0YpN81IU

# =============================================================================
# DATABASE CONFIGURATION (Required)
# =============================================================================
# Single PostgreSQL database with multiple schemas for data isolation
# Format: postgresql://user:password@host:port/database
#
# Schema structure within the postgres database:
#   - public: Main Orchestrator AI data (agents, organizations, conversations, users, LLMs)
#   - rag_data: RAG collections, documents, and vector embeddings
#   - n8n_data: N8N workflow operational data
#   - company_data: Company-specific structured data
#
# This single-database approach simplifies setup for students and developers
# while maintaining logical data isolation through PostgreSQL schemas.

DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:6012/postgres

# Test user credentials (seeded in local Supabase)
# Available users:
#   demo.user@orchestratorai.io / DemoUser123! (user role)
#   admin@orchestratorai.io / Admin123! (admin role)
#   golfergeek@golfergeek.com / GolferGeek123! (superadmin role)
SUPABASE_TEST_USER=demo.user@orchestratorai.io
SUPABASE_TEST_PASSWORD=DemoUser123!
SUPABASE_TEST_USERID=b29a590e-b07f-49df-a25b-574c956b5035

# =============================================================================
# VITE/FRONTEND CONFIGURATION
# =============================================================================
VITE_BASE_URL=http://localhost
VITE_API_BASE_URL=http://localhost:6100
VITE_API_NESTJS_BASE_URL=http://localhost:6100
VITE_API_URL=http://localhost:6100
VITE_HTTP_PORT=6101
VITE_SUPABASE_URL=http://127.0.0.1:6010
VITE_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0
VITE_APP_ENV=development
VITE_APP_VERSION=1.0.0
VITE_ENABLE_ANALYTICS=true
VITE_TEST_USER=demo.user@example.com
VITE_TEST_PASSWORD=DemoUser123!

# =============================================================================
# N8N CONFIGURATION (Optional - for intern prototypes only)
# =============================================================================
# Note: N8n is NOT part of v2-start user-facing features
# Only needed if you want to run the optional N8n jokes agent
# You can skip this section for the main v2-start experience
N8N_HOST=localhost
N8N_PORT=5678
N8N_WEBHOOK_URL=http://localhost:5678
N8N_API_URL=localhost:5678
N8N_PROTOCOL=http
N8N_API_KEY=your-n8n-api-key-here

# =============================================================================
# LLM PROVIDER API KEYS (Required - at least one provider needed)
# =============================================================================
# You must have at least ONE of these configured to use Orchestrator AI
# Recommended: Anthropic Claude or OpenAI GPT-4

# Ollama (Local LLM - free, runs locally)
# Install from: https://ollama.ai
OLLAMA_BASE_URL=http://localhost:11434
OLLAMA_API_KEY=

# Ollama Cloud (Optional - for running large models without local GPU)
# Get key from: https://ollama.com
# When OLLAMA_CLOUD_API_KEY is set, the ollama provider automatically switches to cloud mode
OLLAMA_CLOUD_API_KEY=
OLLAMA_CLOUD_BASE_URL=https://ollama.com

# Anthropic Claude (Recommended for v2-start)
# Get key from: https://console.anthropic.com/
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key-here

# OpenAI
# Get key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=sk-proj-your-openai-api-key-here

# Google (Gemini)
# Get key from: https://makersuite.google.com/app/apikey
GOOGLE_API_KEY=your-google-api-key-here

# Perplexity
# Get key from: https://www.perplexity.ai/settings/api
PERPLEXITY_API_KEY=pplx-your-perplexity-api-key-here

# xAI (Grok)
# Get key from: https://console.x.ai/
GROK_API_KEY=xai-your-grok-api-key-here
XAI_API_KEY=xai-your-xai-api-key-here

# =============================================================================
# ADDITIONAL SERVICES (Optional)
# =============================================================================

# Firecrawl (Web scraping)
# Get key from: https://www.firecrawl.dev/
FIRECRAWL_API_KEY=fc-your-firecrawl-api-key-here

# Helicone (LLM observability and caching)
# Get key from: https://www.helicone.ai/
HELICONE_API_KEY=sk-helicone-your-helicone-api-key-here

# Deepgram (Voice/speech recognition)
# Get key from: https://console.deepgram.com/
DEEPGRAM_API_KEY=your-deepgram-api-key-here

# ElevenLabs (Voice synthesis)
# Get key from: https://elevenlabs.io/
ELEVENLABS_API_KEY=sk_your-elevenlabs-api-key-here

# Notion
# Get key from: https://www.notion.so/my-integrations
NOTION_API_KEY=ntn_your-notion-api-key-here

# LangSmith (LangChain tracing and evaluation)
# Get key from: https://smith.langchain.com/
LANGSMITH_TRACING=false
LANGSMITH_PROJECT=orchestrator-ai
LANGSMITH_ENDPOINT="https://api.smith.langchain.com"
LANGSMITH_API_KEY=your-langsmith-api-key-here

# =============================================================================
# AGENT CONFIGURATION
# =============================================================================
AGENT_BASE_URL=http://localhost
AGENTS_API_PATH=/agents

# External Agents (for A2A protocol testing - optional)
HIVERARCHY_EXTERNAL_ENDPOINT=http://localhost:4100/agents/orchestrator/orchestrator/tasks
HIVERARCHY_API_USER=your-email@example.com
HIVERARCHY_API_PASSWORD=your-password

# =============================================================================
# A2A PROTOCOL CONFIGURATION
# =============================================================================
A2A_PROTOCOL_VERSION=2.0.0
A2A_CONTEXT_FILE_NAME=agent_context.md
A2A_AUTO_REGISTER_FABRIC=true
A2A_AUTO_ESTABLISH_RELATIONSHIPS=true

# Heartbeat Configuration
HEARTBEAT_INTERVAL=30
HEARTBEAT_TIMEOUT=10.0
DEFAULT_HEARTBEAT_INTERVAL=30
DEFAULT_REQUEST_TIMEOUT=30

# HTTP Client Configuration
HTTP_CLIENT_TIMEOUT=30.0
A2A_MAX_RETRIES=3
A2A_RETRY_DELAY=1.0
A2A_RETRY_BACKOFF_MULTIPLIER=2.0

# Debugging and Logging
A2A_DEBUG=false
A2A_LOG_LEVEL=INFO
A2A_LOG_HEARTBEATS=false

# =============================================================================
# SOVEREIGN MODE CONFIGURATION
# =============================================================================
# Controls for local-only LLM usage and privacy enforcement
# Sovereign mode ensures data stays local and private

# Organization-level enforcement (true/false)
# When true, forces all users into sovereign mode regardless of preference
SOVEREIGN_MODE_ENFORCED=false

# Default mode for new users/sessions (strict/relaxed)
# strict: Only local LLMs allowed by default
# relaxed: External LLMs allowed but with privacy warnings
SOVEREIGN_MODE_DEFAULT=relaxed

# Audit logging level (none/basic/full)
# none: No sovereign mode audit logging
# basic: Log mode switches and policy violations
# full: Log all LLM requests and responses with privacy classification
SOVEREIGN_MODE_AUDIT_LEVEL=basic

# Enable real-time policy change propagation (true/false)
# When true, policy changes are immediately pushed to all active sessions
SOVEREIGN_MODE_REALTIME_UPDATES=true

# =============================================================================
# FEATURE FLAGS
# =============================================================================
# Feature flags for gradual rollout of new features

# Sovereign routing feature
FEATURE_FLAG_SOVEREIGN_ROUTING_ENABLED=false
FEATURE_FLAG_SOVEREIGN_ROUTING_ROLLOUT_PERCENTAGE=0

# Target specific users for early access (comma-separated user IDs)
# FEATURE_FLAG_SOVEREIGN_ROUTING_TARGET_USERS=user1,user2,user3

# Target specific organizations for early access (comma-separated org slugs)
# FEATURE_FLAG_SOVEREIGN_ROUTING_TARGET_ORGANIZATIONS=org1,org2

# =============================================================================
# SYSTEM CONFIGURATION
# =============================================================================

# Observability - Use cheaper/faster model for system operations
# Recommended: claude-3-5-haiku-20241022 for cost-effectiveness
OBSERVABILITY_MODEL=claude-3-5-haiku-20241022

# Global model configuration (JSON format)
# This is the default model used when no specific model is selected
MODEL_CONFIG_GLOBAL_JSON='{"provider":"openai","model":"gpt-4o","parameters":{"temperature":0.2,"maxTokens":800}}'

# Logging level (error, warn, info, debug)
LOG_LEVEL=error,debug

# Python path (for Python-based components)
PYTHONPATH=.:${PYTHONPATH}

# Test API secret key (for testing authentication)
TEST_API_SECRET_KEY=your-test-secret-key
