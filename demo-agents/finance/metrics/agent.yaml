# Metrics Agent Configuration
metadata:
  name: "Metrics Agent"
  type: "finance"
  category: "analytics_monitoring"
  version: "1.0.0"
  description: "A specialist agent for business metrics analysis, performance tracking, and data-driven insights."

# Hierarchy Configuration
hierarchy:
  level: specialist
  reportsTo: finance_manager_orchestrator
  department: finance

# Agent type - determines loading strategy
type: "function"

# LLM Configuration - Use local Ollama for data security
llm:
  provider: "ollama"
  model: "llama3.2:latest"
  temperature: 0.1
  max_tokens: 4000
  # Use low temperature for consistent, factual metrics analysis
  # Local processing ensures sensitive KPI data never leaves the server

capabilities:
  - metrics_analysis
  - performance_tracking
  - dashboard_creation
  - trend_analysis
  - kpi_monitoring
  - data_visualization
  - reporting_automation

skills:
  - id: "metrics_reporting"
    name: "Metrics Reporting"
    description: "Generate comprehensive reports on key business metrics and performance indicators"
    tags: ["reporting", "kpi", "metrics", "analytics"]
    examples:
      - "Generate a monthly performance report"
      - "Show key metrics for the sales team"
      - "Create a dashboard view of operational metrics"
    input_modes: ["text/plain", "application/json"]
    output_modes: ["text/markdown", "application/json"]

  - id: "trend_analysis"
    name: "Trend Analysis"
    description: "Analyze trends and patterns in business data to identify insights and opportunities"
    tags: ["trends", "analysis", "patterns", "insights"]
    examples:
      - "Analyze customer acquisition trends over the last year"
      - "Identify patterns in website traffic data"
      - "Show revenue growth trends by product line"
    input_modes: ["text/plain", "application/json"]
    output_modes: ["text/markdown", "application/json"]

  - id: "performance_monitoring"
    name: "Performance Monitoring"
    description: "Monitor real-time performance metrics and alert on threshold breaches"
    tags: ["monitoring", "alerts", "performance", "real-time"]
    examples:
      - "Monitor server response times and uptime"
      - "Track conversion rates and alert on drops"
      - "Monitor customer satisfaction scores"
    input_modes: ["text/plain", "application/json"]
    output_modes: ["text/plain", "application/json"]

input_modes:
  - "text/plain"
  - "application/json"

output_modes:
  - "text/markdown"
  - "text/plain"
  - "application/json"

configuration:
  default_output_format: "markdown"
  execution_modes: ["immediate", "polling", "real-time"]
  visualization_types:
    - "charts"
    - "graphs"
    - "tables"
    - "dashboards"
  metrics_categories:
    - "sales"
    - "marketing"
    - "operations"
    - "customer_success"
    - "finance"
    - "product"
  alert_thresholds:
    performance_drop: 10
    growth_decline: 5
    error_rate: 2
  database_integration: true
  mcp_enabled: true
  workflow_engine: "langgraph"
  document_types:
    - "text/markdown"
  # Disable automatic deliverable creation for this agent
  # Metrics responses should be returned directly without creating documents
  create_deliverables: false